<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      rel="stylesheet"
    />
    <title>Thi·ªáp M·ªùi: H·ªìng S∆°n & Thu·ª≥ V√¢n</title>
  </head>
  <body>
    <!-- INTRO THI·ªÜP -->
    <div class="intro" id="intro">
      <canvas id="snow"></canvas>
      <div class="intro-card">
        <div class="intro-heart">‚ù§</div>
        <h2>H·ªìng S∆°n & Thu·ª≥ V√¢n</h2>
        <p>Th√¢n m·ªùi</p>
        <button id="open-invite">
          <i class="fa-solid fa-envelope-open"></i>
          M·ªü thi·ªáp
        </button>
      </div>
    </div>

    <audio id="bg-music" src="MMBN.mp3" loop></audio>
    <button id="music-btn" class="music-btn">
      <i class="fa-solid fa-volume-xmark"></i>
    </button>

    <div class="main-content" id="main">
      <!-- ===== MAIN INVITE ===== -->
      <div id="invite" class="container hidden">
        <canvas id="sakura"></canvas>
        <div class="heading reveal">
          <h1 class="married__text">We get married!</h1>
          <h2>H·ªìng S∆°n</h2>
          <h2>Thu·ª≥ V√¢n</h2>
        </div>
        <div class="title reveal">
          <h3>Th∆∞ m·ªùi tham d·ª± l·ªÖ c∆∞·ªõi</h3>
          <p>tr√¢n tr·ªçng k√≠nh m·ªùi ƒë·∫øn d·ª± l·ªÖ c∆∞·ªõi c·ªßa ch√∫ng m√¨nh</p>
        </div>
        <div class="section-info reveal">
          <div class="info-person">
            <h3>Ch√∫ re`</h3>
            <p>H·ªìng S∆°n</p>
            <img src="images/KL408016.jpg" alt="" class="person-image" />
          </div>
          <div class="info-person">
            <img src="images/KL407972.jpg" alt="" class="person-image" />
            <h3>C√¥ d√¢u</h3>
            <p>Thu·ª≥ V√¢n</p>
          </div>
        </div>
        <div class="caption reveal">
          ƒê√°m c∆∞·ªõi kh√¥ng ch·ªâ l√† ng√†y tr·ªçng ƒë·∫°i, m√† l√† kh·ªüi ƒë·∫ßu cho h√†nh tr√¨nh
          m·ªõi c·ªßa y√™u th∆∞∆°ng. Gi·ªØa d√≤ng ƒë·ªùi v·ªôi v√£, ch√∫ng ta t√¨m th·∫•y nhau v√†
          ch·ªçn g·∫Øn b√≥ b·∫±ng t·∫•t c·∫£ s·ª± ch√¢n th√†nh. H√¥m nay, anh v√† em c√πng b∆∞·ªõc
          v√†o ch∆∞∆°ng m·ªõi c·ªßa cu·ªôc ƒë·ªùi, n∆°i t√¨nh y√™u tr·ªü th√†nh m√°i ·∫•m, v√† h·∫°nh
          ph√∫c mang t√™n ‚Äúch√∫ng ta‚Äù
        </div>

        <img
          src="images/KL407599.jpg"
          alt=""
          class="caption-image reveal image"
        />

        <div class="time-line reveal">
          <h2 class="the-wedding">The Wedding</h2>
          <p class="of">of</p>
          <h3 class="person-name">H·ªìng S∆°n & Thu·ª≥ V√¢n</h3>
          <div class="fm-positon">
            <div class="position">
              <h3>NH√Ä TRAI</h3>
              <p class="father">B·ªë: L√™ VƒÉn C·∫ßu</p>
              <p class="mother">M·∫π: Nguy·ªÖn Th·ªã Tr·∫ßn</p>
            </div>
            <div class="position">
              <h3>NH√Ä G√ÅI</h3>
              <p class="father">B·ªë: Tr·∫ßn VƒÉn Quy·ªÅn</p>
              <p class="mother">M·∫π: Ho√†ng Th·ªã S·ªπ</p>
            </div>
          </div>
          <h2 class="married-success">L·ªÑ TH√ÄNH H√îN</h2>
          <p>ƒê∆∞·ª£c t·ªï ch·ª©c v√†o l√∫c</p>
          <p class="time">10 gi·ªù 00, Th·ª© T∆∞</p>
          <p class="date">28 | 01 | 2026</p>
          <p class="date-desc">( T·ª©c ng√†y 10 th√°ng 12 nƒÉm ·∫§t T·ªµ )</p>
          <img src="images/nhan.png" alt="nhan" class="nhan_img" />
          <h3 class="at">T·∫°i: T∆∞ Gia nh√† trai</h3>
          <p class="address">H∆∞ng Y√™n Nam 5, Y√™n Trung, Ngh·ªá An</p>
          <div class="navigation">
            <img src="images/tim.png" alt="tim" class="navigation-icon" />
            <h3 class="navigation-text">CH·ªà ƒê∆Ø·ªúNG</h3>
          </div>

          <h2 class="married-success">TI·ªÜC C∆Ø·ªöI</h2>
          <p>ƒê∆∞·ª£c t·ªï ch·ª©c v√†o l√∫c</p>
          <p class="time">10 gi·ªù 00, Th·ª© T∆∞</p>
          <p class="date">27 | 01 | 2026</p>
          <p class="date-desc">( T·ª©c ng√†y 09 th√°ng 12 nƒÉm ·∫§t T·ªµ )</p>
          <img src="images/nhan.png" alt="nhan" class="nhan_img" />
          <h3 class="at">T·∫°i: T∆∞ Gia nh√† g√°i</h3>
          <p class="address">H∆∞ng Y√™n Nam 5, Y√™n Trung, Ngh·ªá An</p>
          <div class="navigation">
            <img src="images/tim.png" alt="tim" class="navigation-icon" />
            <h3 class="navigation-text">CH·ªà ƒê∆Ø·ªúNG</h3>
          </div>

          <a href="#wishForm" class="confirm-join">X√ÅC NH·∫¨N THAM D·ª∞</a>
          <img src="images/4.jpg" alt="4" />
        </div>

        <div class="time-detail reveal">
          <div class="time-detail__title">TimeLine</div>
          <div class="time-detail__content">
            <div class="left">
              <img src="images/1.png" alt="1" />
              <img src="images/2.png" alt="1" />
              <img src="images/3.png" alt="1" />
            </div>
            <div class="right">
              <p>
                10:00
                <span>ƒê√ìN KH√ÅCH<i class="fa fa-heart heart-icon"></i></span>
              </p>
              <p>
                10:30 <span>NGHI L·ªÑ<i class="fa fa-heart heart-icon"></i></span>
              </p>
              <p>
                11:00
                <span>KHAI TI·ªÜC<i class="fa fa-heart heart-icon"></i></span>
              </p>
            </div>
          </div>
        </div>

        <div class="the-diary reval image">
          <img src="images/KL407768.jpg" alt="s" class="the-diary__image" />
          <div class="the-diary__text">
            <h3>THE DIARY</h3>
            <p>of love</p>
          </div>
        </div>

        <div class="carousel reveal">
          <!-- ·∫£nh l·ªõn -->
          <div class="carousel-main">
            <div class="image-wrapper">
              <img id="mainImage" src="images/KL407498.jpg" />
            </div>
          </div>

          <!-- thumbnail -->
          <div class="carousel-thumbs">
            <img src="images/KL407498.jpg" class="thumb active" />
            <img src="images/KL407507.jpg" class="thumb" />
            <img src="images/KL407599.jpg" class="thumb" />
            <img src="images/KL407740.jpg" class="thumb" />
            <div class="thumb more" data-more="+12">
              <img src="images/KL407768.jpg" />
            </div>
          </div>
        </div>

        <!-- LIGHTBOX -->
        <div class="lightbox" id="lightbox">
          <span class="close">√ó</span>
          <span class="nav prev">‚Äπ</span>
          <img id="lightboxImage" />
          <span class="nav next">‚Ä∫</span>
        </div>
        <div class="wedding-form reveal">
          <form id="wishForm" class="wish-form">
            <h1 class="wedding-form__title">X√ÅC NH·∫¨N</h1>
            <p class="wedding-form__caption">
              H√£y x√°c nh·∫≠n s·ª± c√≥ m·∫∑t c·ªßa b·∫°n ƒë·ªÉ ch√∫ng m√¨nh chu·∫©n b·ªã ƒë√≥n ti·∫øp 1
              c√°ch chu ƒë√°o nh·∫•t.
            </p>
            <div class="form-content">
              <span>Tr√¢n tr·ªçng!</span>
              <input id="name" placeholder="T√™n c·ªßa b·∫°n" required />
              <textarea id="message" placeholder="L·ªùi ch√∫c" required></textarea>
              <button type="submit">G·ª≠i l·ªùi ch√∫c</button>
            </div>
          </form>
        </div>

        <div id="wishList" class="wish-list"></div>

        <div class="happy-wedding reveal">
          <h3 class="happy">Wedding Gift</h3>
          <p class="thank-you">
            Gia ƒë√¨nh xin ch√¢n th√†nh c·∫£m ∆°n Qu√Ω Kh√°ch ƒë√£ ƒë·∫øn chung vui
          </p>

          <p class="qr-title">Ch√∫ R·ªÉ</p>
          <img src="images/QRSON.png" alt="sonQR" class="qr-img" />
          <p class="bank-name">Vietcombank</p>
          <p class="bank-number">1033190510</p>
          <p class="bank-holder">L√ä H·ªíNG S∆†N</p>

          <p class="qr-title">C√¥ D√¢u</p>
          <img src="images/QRSON.png" alt="sonQR" class="qr-img" />
          <p class="bank-name">Vietcombank</p>
          <p class="bank-number">1040238259</p>
          <p class="bank-holder">Tr·∫ßn Th·ªã V√¢n</p>

          <p class="thank-you2">Thank You!</p>
        </div>

        <div class="divider"></div>

        <h2 class="count-title">Coutn Down</h2>
        <div class="countdown reveal">
          <div class="time">
            <span id="days">00</span>
            <small>NG√ÄY</small>
          </div>
          <div class="time">
            <span id="hours">00</span>
            <small>GI·ªú</small>
          </div>
          <div class="time">
            <span id="minutes">00</span>
            <small>PH√öT</small>
          </div>
          <div class="time">
            <span id="seconds">00</span>
            <small>GI√ÇY</small>
          </div>
        </div>
      </div>
    </div>
    <script src="script.js"></script>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
      import {
        getFirestore,
        collection,
        addDoc,
        serverTimestamp,
        onSnapshot,
        query,
        orderBy,
      } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

      const firebaseConfig = {
        apiKey: "AIzaSyDN0cdOhqx1Cru2vXfWF365Oq_t8CU-1BY",
        authDomain: "wedding-son-van.firebaseapp.com",
        projectId: "wedding-son-van",
        storageBucket: "wedding-son-van.firebasestorage.app",
        messagingSenderId: "869725889534",
        appId: "1:869725889534:web:1411f31bb7faad8c1f16af",
      };

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      console.log("üî• Firebase connected!");

      const form = document.getElementById("wishForm");
      const nameInput = document.getElementById("name");
      const messageInput = document.getElementById("message");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const nameValue = nameInput.value.trim();
        const messageValue = messageInput.value.trim();

        if (!nameValue || !messageValue) {
          alert("Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin üíå");
          return;
        }

        await addDoc(collection(db, "wishes"), {
          name: nameValue,
          message: messageValue,
          createdAt: serverTimestamp(),
        });

        alert("üíñ ƒê√£ g·ª≠i l·ªùi ch√∫c!");
        form.reset();
      });

      const list = document.getElementById("wishList");

      const q = query(collection(db, "wishes"), orderBy("createdAt", "desc"));

      onSnapshot(q, (snapshot) => {
        list.innerHTML = "";

        snapshot.forEach((doc) => {
          const w = doc.data();

          const card = document.createElement("div");
          card.className = "wish-card";

          const time = w.createdAt?.toDate
            ? w.createdAt.toDate().toLocaleString("vi-VN")
            : "";

          card.innerHTML = `
      <div class="wish-name">${w.name}</div>
      <div class="wish-message">${w.message}</div>
      <div class="wish-time">${time}</div>
    `;

          list.appendChild(card);

          // trigger animation
          requestAnimationFrame(() => {
            card.classList.add("show");
          });
        });
      });
    </script>
  </body>
</html>
